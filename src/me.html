<!doctype html>
<!--
  me.html — "My" / Profile page HTML structure
 
  Responsibilities:
  - Displays user's profile info and avatar
  - Provides quick action shortcuts
  - Lists user's posts
  - This page is styled via me.css and controlled by me.js (initMe/destroyMe)
-->
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="theme-color" content="#ffffff" />
    <title>个人中心</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Alkalami&family=Itim&family=Akatab:wght@400&family=Inter:wght@400&display=swap"
      rel="stylesheet"
    />
    <!-- Global Animation System -->
    <link rel="stylesheet" href="../statics/css/animations.css" />
    <!-- Page-specific stylesheet for the "My" profile page -->
    <link rel="stylesheet" href="../statics/css/me.css" />
  </head>
  <body>
    <!-- Main application container for the profile page -->
    <main class="app" aria-label="我的">
      <!-- Top bar with title -->
      <header class="topbar"></header>

      <!-- Profile Card -->
      <!-- Profile Card: shows avatar, name, age, disease days, streak, and action buttons -->
      <section class="profile-card" aria-label="用户资料">
        <div class="profile-content">
          <div class="avatar" aria-hidden="true" id="avatarContainer">
            <div class="avatar-inner" id="avatarInitials">JB</div>
            <img
              id="avatarImage"
              class="avatar-image"
              style="display: none"
              alt="用户头像"
            />
            <button
              class="avatar-upload-btn"
              id="avatarUploadBtn"
              aria-label="上传头像"
            >
              <ion-icon
                ios="camera-outline"
                md="camera-sharp"
                aria-hidden="true"
              ></ion-icon>
            </button>
          </div>
          <div class="profile-info">
            <div class="name" id="displayName">加载中...</div>
            <div class="meta">
              <span id="displayAge">年龄 : 加载中...</span>
            </div>
            <div class="disease-info" id="diseaseInfo" style="display: none">
              <span id="diseaseText"></span>
            </div>
            <div class="streak-display" id="streakDisplay">
              <ion-icon
                ios="hourglass-outline"
                md="hourglass-sharp"
                class="streak-icon"
              ></ion-icon>
              <span class="streak-label">连续打卡</span>
              <span class="streak-value" id="currentStreakDisplay">0</span>
              <span class="streak-unit">天</span>
            </div>
            <div
              class="checkin-status"
              id="checkinStatus"
              style="display: none"
            >
              <span class="checkin-status-text" id="checkinStatusText"
                >○ 今日未打卡</span
              >
            </div>
          </div>
          <div class="profile-actions">
            <button class="edit-profile-btn rippleable" id="editProfileBtn">
              编辑资料
            </button>
            <button
              class="settings-btn rippleable"
              id="settingsBtn"
              aria-label="设置"
            >
              <ion-icon
                ios="settings-outline"
                md="settings-sharp"
                aria-hidden="true"
              ></ion-icon>
            </button>
          </div>
        </div>
      </section>

      <!-- My Posts Section -->
      <section class="my-posts-section" aria-label="我的帖子">
        <div class="posts-header">
          <span class="posts-title">我的帖子</span>
        </div>
        <div class="posts-grid" id="postsGrid">
          <!-- Posts will be dynamically inserted here -->
        </div>
        <div class="posts-empty" id="postsEmpty" style="display: none;">
          <div class="posts-empty-text">还未发帖，快来发帖吧</div>
        </div>
      </section>

      <!-- 隐藏的文件输入 -->
      <input
        type="file"
        id="avatarFileInput"
        accept="image/*"
        style="display: none"
      />
    </main>
  </body>
</html>
