<!DOCTYPE html>
<!--
  streakCelebrationDebug.html â€” è¿èƒœåº†ç¥åŠ¨ç”»æ¼”ç¤ºé¡µé¢
  
  åŠŸèƒ½ï¼š
  - å±•ç¤ºä¸åŒè¿èƒœå¤©æ•°çš„åº†ç¥åŠ¨ç”»
  - æµ‹è¯•ä¸åŒç­‰çº§ï¼ˆsoftã€normalã€weekã€monthã€legendï¼‰
  - å¯ä»¥æ‰‹åŠ¨è§¦å‘åŠ¨ç”»
-->
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="theme-color" content="#9333ea" />
    <title>è¿èƒœåº†ç¥åŠ¨ç”»æ¼”ç¤º</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
        color: #fff;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
      }

      h1 {
        text-align: center;
        margin-bottom: 10px;
        font-size: 28px;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      }

      .subtitle {
        text-align: center;
        margin-bottom: 30px;
        opacity: 0.9;
        font-size: 14px;
      }

      .demo-section {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 16px;
        padding: 24px;
        margin-bottom: 20px;
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .demo-section h2 {
        font-size: 20px;
        margin-bottom: 16px;
        color: #fff;
      }

      .demo-section p {
        font-size: 14px;
        margin-bottom: 16px;
        opacity: 0.9;
        line-height: 1.6;
      }

      .button-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 12px;
        margin-top: 16px;
      }

      .demo-button {
        padding: 14px 20px;
        background: linear-gradient(135deg, #9333ea 0%, #a855f7 100%);
        border: none;
        border-radius: 12px;
        color: white;
        font-size: 15px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(147, 51, 234, 0.4);
        position: relative;
        overflow: hidden;
      }

      .demo-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(147, 51, 234, 0.6);
      }

      .demo-button:active {
        transform: translateY(0);
      }

      .demo-button::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
      }

      .demo-button:active::before {
        width: 300px;
        height: 300px;
      }

      .demo-button.week {
        background: linear-gradient(135deg, #f59e0b 0%, #f97316 100%);
      }

      .custom-input {
        display: flex;
        gap: 12px;
        margin-top: 16px;
        flex-wrap: wrap;
      }

      .custom-input input {
        flex: 1;
        min-width: 120px;
        padding: 12px 16px;
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 10px;
        background: rgba(255, 255, 255, 0.1);
        color: white;
        font-size: 15px;
        outline: none;
        transition: all 0.3s ease;
      }

      .custom-input input:focus {
        border-color: #a855f7;
        background: rgba(255, 255, 255, 0.15);
        box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.2);
      }

      .custom-input input::placeholder {
        color: rgba(255, 255, 255, 0.5);
      }

      .custom-input button {
        padding: 12px 24px;
        background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
        border: none;
        border-radius: 10px;
        color: white;
        font-size: 15px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
      }

      .custom-input button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(16, 185, 129, 0.6);
      }

      .info-box {
        background: rgba(0, 0, 0, 0.2);
        border-radius: 12px;
        padding: 16px;
        margin-top: 16px;
        font-size: 13px;
        line-height: 1.6;
        border-left: 4px solid #a855f7;
      }

      .info-box strong {
        color: #fbbf24;
      }

      .tier-badge {
        display: inline-block;
        padding: 4px 10px;
        border-radius: 6px;
        font-size: 12px;
        font-weight: 600;
        margin-left: 8px;
        text-transform: uppercase;
      }

      .tier-badge.normal {
        background: rgba(147, 51, 234, 0.3);
        color: #e9d5ff;
      }

      .tier-badge.week {
        background: rgba(245, 158, 11, 0.3);
        color: #fef3c7;
      }

      @media (max-width: 600px) {
        .button-grid {
          grid-template-columns: 1fr;
        }

        .custom-input {
          flex-direction: column;
        }

        .custom-input input,
        .custom-input button {
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ’¡ è¿èƒœåº†ç¥åŠ¨ç”»æ¼”ç¤º</h1>
      <p class="subtitle">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ä½“éªŒä¸åŒåœºæ™¯çš„åº†ç¥åŠ¨ç”»æ•ˆæœï¼ˆç¯æ³¡ + åº†ç¥å›¾ç‰‡ï¼‰</p>

      <!-- Normal ç­‰çº§ -->
      <div class="demo-section">
        <h2>
          Normal ç­‰çº§
          <span class="tier-badge normal">æ—¥å¸¸</span>
        </h2>
        <p>æ™®é€šæ—¥å¸¸çš„åŠ¨ç”»æ•ˆæœï¼Œé»˜è®¤æ ·å¼</p>
        <div class="button-grid">
          <button class="demo-button" onclick="showDemo(0, 1)">
            ç¬¬1å¤© (0â†’1)
          </button>
          <button class="demo-button" onclick="showDemo(3, 4)">
            ç¬¬4å¤© (3â†’4)
          </button>
          <button class="demo-button" onclick="showDemo(5, 6)">
            ç¬¬6å¤© (5â†’6)
          </button>
        </div>
      </div>

      <!-- Week é‡Œç¨‹ç¢‘ (7çš„å€æ•°) -->
      <div class="demo-section">
        <h2>
          Week é‡Œç¨‹ç¢‘
          <span class="tier-badge week">7çš„å€æ•°</span>
        </h2>
        <p>æ»¡ä¸€å‘¨æ—¶ä¼šæœ‰å½©å¸¦æ•ˆæœï¼Œåº†ç¥åšæŒä¸€å‘¨çš„æˆå°±</p>
        <div class="button-grid">
          <button class="demo-button week" onclick="showDemo(6, 7)">
            ç¬¬1å‘¨ (6â†’7) âœ¨
          </button>
          <button class="demo-button week" onclick="showDemo(13, 14)">
            ç¬¬2å‘¨ (13â†’14) âœ¨
          </button>
          <button class="demo-button week" onclick="showDemo(20, 21)">
            ç¬¬3å‘¨ (20â†’21) âœ¨
          </button>
        </div>
      </div>

      <!-- è‡ªå®šä¹‰è¾“å…¥ -->
      <div class="demo-section">
        <h2>è‡ªå®šä¹‰æµ‹è¯•</h2>
        <p>è¾“å…¥ä»»æ„è¿èƒœå¤©æ•°ï¼Œæµ‹è¯•åŠ¨ç”»æ•ˆæœ</p>
        <div class="custom-input">
          <input
            type="number"
            id="previousInput"
            placeholder="æ˜¨å¤©çš„è¿èƒœå¤©æ•°"
            min="0"
            value="0"
          />
          <input
            type="number"
            id="newInput"
            placeholder="ä»Šå¤©çš„è¿èƒœå¤©æ•°"
            min="1"
            value="1"
          />
          <button onclick="showCustomDemo()">æ’­æ”¾åŠ¨ç”»</button>
        </div>
        <div class="info-box">
          <strong>æç¤ºï¼š</strong>
          <ul style="margin-top: 8px; padding-left: 20px;">
            <li>æ–°è¿èƒœå¤©æ•°åº”è¯¥æ˜¯æ˜¨å¤©+1</li>
            <li>7çš„å€æ•°ä¼šæœ‰å½©å¸¦æ•ˆæœ</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- åŠ è½½åº†ç¥åŠ¨ç”»è„šæœ¬ -->
    <script src="../../statics/js/streak-celebration.js"></script>

    <script>
      // æ˜¾ç¤ºæ¼”ç¤ºåŠ¨ç”»
      function showDemo(previousStreak, newStreak) {
        console.log(`[demo] æ’­æ”¾åŠ¨ç”»: ${previousStreak} â†’ ${newStreak}`);
        
        if (window.StreakCelebration && window.StreakCelebration.show) {
          // æ ¹æ®è¿èƒœå¤©æ•°å†³å®šåŠ¨ç”»æ—¶é•¿
          let duration = 3400;
          if (newStreak <= 3) {
            duration = 2600;
          } else if (newStreak < 7) {
            duration = 3000;
          } else if (newStreak < 30) {
            duration = 3600;
          } else if (newStreak < 100) {
            duration = 4000;
          } else {
            duration = 4400;
          }

          window.StreakCelebration.show(previousStreak, newStreak, {
            duration: duration,
            onComplete: () => {
              console.log(`[demo] åŠ¨ç”»å®Œæˆ: ${previousStreak} â†’ ${newStreak}`);
            }
          });
        } else {
          alert('åº†ç¥åŠ¨ç”»æ¨¡å—æœªåŠ è½½ï¼Œè¯·æ£€æŸ¥è„šæœ¬è·¯å¾„');
        }
      }

      // æ˜¾ç¤ºè‡ªå®šä¹‰åŠ¨ç”»
      function showCustomDemo() {
        const previousInput = document.getElementById('previousInput');
        const newInput = document.getElementById('newInput');
        
        const previousStreak = parseInt(previousInput.value) || 0;
        const newStreak = parseInt(newInput.value) || 1;

        if (newStreak <= previousStreak) {
          alert('ä»Šå¤©çš„è¿èƒœå¤©æ•°åº”è¯¥å¤§äºæ˜¨å¤©ï¼');
          return;
        }

        if (newStreak < 1) {
          alert('è¿èƒœå¤©æ•°å¿…é¡»å¤§äº0ï¼');
          return;
        }

        showDemo(previousStreak, newStreak);
      }

      // é¡µé¢åŠ è½½å®Œæˆæç¤º
      window.addEventListener('DOMContentLoaded', () => {
        if (window.StreakCelebration) {
          console.log('[demo] åº†ç¥åŠ¨ç”»æ¨¡å—å·²åŠ è½½');
        } else {
          console.error('[demo] åº†ç¥åŠ¨ç”»æ¨¡å—æœªåŠ è½½');
        }
      });
    </script>
  </body>
</html>

